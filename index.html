<!DOCTYPE html>
<html>
<head>
            <style>body {
  font-family: sans-serif;
  text-align: center;
  padding: 20px;
  background-color: #f0f8ff;
}

h1 {
  color: #333;
  margin-bottom: 10px;
}

button {
  padding: 10px 16px;
  font-size: 16px;
  margin: 6px;
  border: none;
  background-color: #0077cc;
  color: white;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  background-color: #005fa3;
}

.grid-container {
  display: grid;
  grid-template-columns: repeat(3, 100px);
  grid-gap: 15px;
  justify-content: center;
  margin-top: 25px;
}

.item {
  font-size: 48px;
  padding: 20px;
  border: 4px solid #ccc;
  border-radius: 12px;
  background-color: white;
  transition: border-color 0.3s ease;
  cursor: pointer;
}

#result {
  margin-top: 20px;
  font-size: 20px;
  color: #333;
  font-weight: bold;
}

.fry {
  position: absolute;
  font-size: 50px;
  animation: rise 1.2s ease-out forwards;
}

@keyframes rise {
  0% {
    transform: translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateY(-200px);
    opacity: 0;
  }
}
</style>
        </head>
        <body>
            


  <meta charset="UTF-8">
  <title>Ä°ÅŸitsel Dikkat Oyunu</title>
  <link rel="stylesheet" href="style.css">


  <h1>Ä°ÅŸitsel Dikkat Oyunu</h1>
  <button onclick="playCommand()">ğŸ”ˆ Komutu Dinle</button>
  <button onclick="testClap()">ğŸ”Š AlkÄ±ÅŸ Testi</button>

  <div class="grid-container" id="grid"><div class="item" data-name="ÅŸemsiye">â˜‚ï¸</div><div class="item" data-name="kÃ¶pek">ğŸ¶</div><div class="item" data-name="kedi">ğŸ±</div><div class="item" data-name="Ã§anta">ğŸ‘œ</div><div class="item" data-name="pasta">ğŸ‚</div><div class="item" data-name="telefon">ğŸ“±</div><div class="item" data-name="Ã§iÃ§ek">ğŸŒ¸</div><div class="item" data-name="kitap">ğŸ“š</div><div class="item" data-name="saat">â°</div></div>
  <p id="result">Yeni kelimeler geliyor, dikkatli dinle.</p>

  <!-- AlkÄ±ÅŸ sesi -->
  <audio id="clap-sound" preload="auto">
    <source src="https://www.soundjay.com/human/applause-8.mp3" type="audio/mpeg">
    TarayÄ±cÄ±nÄ±z ses etiketini desteklemiyor.
  </audio>

  <script src="script.js"></script>



            <script>const items = [
  { name: "kedi", emoji: "ğŸ±" },
  { name: "kÃ¶pek", emoji: "ğŸ¶" },
  { name: "Ã§iÃ§ek", emoji: "ğŸŒ¸" },
  { name: "telefon", emoji: "ğŸ“±" },
  { name: "pasta", emoji: "ğŸ‚" },
  { name: "kitap", emoji: "ğŸ“š" },
  { name: "saat", emoji: "â°" },
  { name: "Ã§anta", emoji: "ğŸ‘œ" },
  { name: "ÅŸemsiye", emoji: "â˜‚ï¸" }
];

let selectedTargets = [];
let clickedItems = [];
let wrongCount = 0;
let greenBlinking = false;

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function loadGrid() {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  clickedItems = [];
  wrongCount = 0;
  greenBlinking = false;

  const selected = shuffle([...items]).slice(0, 9);
  selected.forEach(item => {
    const div = document.createElement("div");
    div.className = "item";
    div.textContent = item.emoji;
    div.dataset.name = item.name;
    div.onclick = () => handleClick(item.name, div);
    grid.appendChild(div);
  });

  selectedTargets = shuffle([...selected]).slice(0, 2);
  const names = selectedTargets.map(x => x.name);
  speakCommand(names);
}

function handleClick(name, element) {
  if (clickedItems.includes(name)) return;
  clickedItems.push(name);

  const targetNames = selectedTargets.map(x => x.name);

  if (greenBlinking) {
    if (targetNames.every(t => clickedItems.includes(t))) {
      document.getElementById("result").textContent = "ğŸ‰ Tebrikler!";
      speakText("Tebrikler, doÄŸru seÃ§im yaptÄ±n.");
      playClap();
      throwFries();
      setTimeout(() => loadGrid(), 2000);
    } else {
      document.getElementById("result").textContent = "Yeni kelimeler geliyor, dikkatli dinle.";
      speakText("Yeni kelimeler geliyor, dikkatli dinle.");
      setTimeout(() => loadGrid(), 4000);
    }
    return;
  }

  if (targetNames.includes(name)) {
    element.style.borderColor = "green";
  } else {
    element.style.borderColor = "red";
    setTimeout(() => {
      element.style.borderColor = "#ccc";
    }, 800);
  }

  const correctClicks = clickedItems.filter(n => targetNames.includes(n));
  const allCorrect = targetNames.every(t => correctClicks.includes(t));

  if (allCorrect) {
    document.getElementById("result").textContent = "ğŸ‰ Tebrikler, doÄŸru nesneleri seÃ§tin!";
    speakText("Tebrikler, doÄŸru nesneleri seÃ§tin.");
    playClap();
    throwFries();
    setTimeout(() => loadGrid(), 2000);
  } else if (clickedItems.length >= targetNames.length) {
    wrongCount++;

    if (wrongCount === 1) {
      document.getElementById("result").textContent = "âŒ Tekrar dene.";
      speakText("Tekrar dene.");
      setTimeout(() => {
        resetBorders();
        clickedItems = correctClicks; // doÄŸru seÃ§imler korunur
        speakCommand(targetNames);
      }, 1000);
    } else if (wrongCount === 2) {
      document.getElementById("result").textContent = "YanlÄ±ÅŸ. DoÄŸru cevaplara dikkat et.";
      speakText("DoÄŸru cevaplara dikkat et.");
      blinkCorrectAnswers(targetNames);
    }
  }
}

function blinkCorrectAnswers(targetNames) {
  const gridItems = document.querySelectorAll(".item");
  let count = 0;
  greenBlinking = true;

  const interval = setInterval(() => {
    gridItems.forEach(item => {
      if (targetNames.includes(item.dataset.name)) {
        item.style.borderColor = (count % 2 === 0) ? "limegreen" : "#ccc";
      }
    });
    count++;
    if (count === 6) {
      clearInterval(interval);
      document.getElementById("result").textContent = "Bir kez daha dene!";
      speakText("Bir kez daha dene!");
      clickedItems = [];
    }
  }, 400);
}

function resetBorders() {
  document.querySelectorAll(".item").forEach(el => {
    el.style.borderColor = "#ccc";
  });
}

function speakCommand(names) {
  const sentence = names.join(" ve ") + " nesnesine dokun.";
  speakText(sentence);
}

function speakText(text) {
  const msg = new SpeechSynthesisUtterance(text);
  msg.lang = "tr-TR";
  const voices = window.speechSynthesis.getVoices();
  const trVoice = voices.find(v => v.lang === "tr-TR" || v.name.toLowerCase().includes("turkish"));
  if (trVoice) msg.voice = trVoice;
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(msg);
}

function throwFries() {
  for (let i = 0; i < 6; i++) {
    const fry = document.createElement("div");
    fry.className = "fry";
    fry.textContent = "ğŸŸ";
    fry.style.left = Math.random() * (window.innerWidth - 50) + "px";
    fry.style.top = "80%";
    document.body.appendChild(fry);
    setTimeout(() => fry.remove(), 1500);
  }
}

function playClap() {
  const audio = document.getElementById("clap-sound");
  audio.currentTime = 0;
  audio.play().catch(e => console.log("Ses Ã§alÄ±namadÄ±:", e));
}

// Butonlar
function playCommand() {
  speakCommand(selectedTargets.map(x => x.name));
}

function testClap() {
  playClap();
}

// BaÅŸlat
window.onload = loadGrid;
</script>
        
    
</body>